# React Practise

## common guideline

-   所有的资源文件放在`/assets`中
-   component必须继承`/components/BaseComponent.js`
-   page必须继承`/pages/BasePage.js`
-   所有的component的定义放在目录`/components`中,文件名定义单次首字母大写
-   所有page的定义放在目录`/pages`中,文件名定义单次首字母大写
-   所有类型的定义都需要定义在`/types.js`文件中
-   所有js采用js flow语法
-   所有page的root node建议使用`Layout`

## config

-   所有的配置文件必须以`.config.js进行结尾`
-   `app.ENV.config.js`文件有点特殊,需要按照环境进行配置,且在引用的时候需要按照下面的方式进行引用
    ```javascript
    //固定写法
    import config from 'config'
    ```

## redux

-   reducer和action的定义需要定义在一个文件中且文件名以`.ar.js`结尾,如:test.ar.js.
-   .ar.js文件保存在目录`/ar`中
-   /ar目录中包含一个index.js文件,定义的所有.ar.js需要在index.js中进行统一导出
-   action的数据结构采用react推荐的数据结构,定义在types.js中 `ActionTypes`
-   `action.type`建议使用guid,如果不使用guid请保证其唯一性
-   默认情况下redux中的数据会持久化到`localstorage`

## css

-   支持`css` `sass`
-   所有的布局采用flex布局
-   基础样式包括: `materialize-css` `font-awesome`
-   所有样式文件按照模块以文件的形式进行切分,如导航栏:nav.sass,然后在`app.sass`中引入模块

## command

-   启动开发环境
    ```shell
    $ npm run dev
    ```

## TODO

-   [ ] 添加flow语法检查

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### DataTable

**Extends BaseComponent**

DataTable

**Examples**

_Simple_

```javascript
class SimpleDataTableDemo extends React.PureComponent{
render(){
	const dataSource=[
		{name:"name1",sex:"male"},
		{name:"name2",sex:"female"}
	];
	const columns=[
		{name:"Name",render:rowData=>rowData['name']},
		{name:"Sex",render:rowData=>rowData['sex']},
	];
	return <DataTable columns={columns} dataSource={dataSource}></DataTable>
}
}
```

_Empty_

```javascript
class EmptyDataTableDemo extends React.PureComponent{
render(){
	const dataSource=[];
	const columns=[
		{name:"Name",render:rowData=>rowData['name']},
		{name:"Sex",render:rowData=>rowData['sex']},
	];
	return <DataTable columns={columns} dataSource={dataSource}></DataTable>
}
}
```

_Radio DataTable_

```javascript
class RadioDataTableDemo extends React.PureComponent{
render(){
	const dataSource=[
		{name:"name1",sex:"male"},
		{name:"name2",sex:"female"}
	];
	const columns=[
		{name:"",render:rowData=>{
			return <input type="radio" value={rowData['name']} name="radio-data-table"/>
		}},
		{name:"Name",render:rowData=>rowData['name']},
		{name:"Sex",render:rowData=>rowData['sex']},
	];
	return <DataTable columns={columns} dataSource={dataSource}></DataTable>
}
}
```

_Checkbox DataTable_

```javascript
class CheckboxDataTableDemo extends React.PureComponent{
render(){
	const dataSource=[
		{name:"name1",sex:"male"},
		{name:"name2",sex:"female"}
	];
	const columns=[
		{name:"",render:rowData=>{
			return <input type="checkbox" value={rowData['name']}/>
		}},
		{name:"Name",render:rowData=>rowData['name']},
		{name:"Sex",render:rowData=>rowData['sex']},
	];
	return <DataTable columns={columns} dataSource={dataSource}></DataTable>
}
}
```

#### propTypes

**Properties**

-   `columns` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** 
    -   `columns[].name` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `columns[].className` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** 
    -   `columns[].style` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `columns[].render` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 
-   `dataSource` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)?** \[]
-   `style` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
-   `className` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** ['pure-table pure-table-striped']
-   `renderDataEmpty` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** [(definedColumn)=>(<tr><td colSpan={definedColumn.length} style={{textAlign:"center"}}>NO DATA</td></tr>)]

### DataTableWithPagination

**Extends BaseComponent**

带分页的DataTable,由DataTable和Pagination组合的复合组件

#### getGlobalRowIndex

全局RowIndex

**Parameters**

-   `localRowIndex` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

#### propTypes

[...DataTable.propTypes](#datatableproptypes)
[...Pagination.propTypes](#paginationproptypes)

**Properties**

-   `style` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
-   `className` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** 
-   `dataTableStyle` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** DataTable样式
-   `dataTableClassName` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** DataTable css class
-   `paginationStyle` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Pagination 样式
-   `paginationClassName` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Pagination css class
-   `showIndex` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** [ true ] - 是否显示索引列

### Layout

**Extends BaseComponent**

Layout - 所有的页面必须以Layout(或者是实现了Layout布局的其他组件,如LayoutWithNav)作为Root节点

**Examples**

```javascript
class XX extends React.PureComponent{
		render(){
			return (
				<Layout>
				    <div>do something</div>
				</Layout>
			);
		}
}
```

### Nav

**Extends BaseComponent**

Nav - 导航栏

#### propTypes

**Properties**

-   `title` **([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)? | [HtmlElement](https://developer.mozilla.org/en-US/docs/Web/HTML/Element) | React.node)** ['THIS IS A TITLE']
-   `logo` **([HtmlElement](https://developer.mozilla.org/en-US/docs/Web/HTML/Element) | React.node)** 

### Pagination

**Extends BaseComponent**

Pagination - 页码

**Parameters**

-   `props`  

**Examples**

_从0开始分页_

```javascript
<Pagination
   onPageChange={(pageInfo)=>{
					console.log('page change',pageInfo)
				}}
     total={23}/>
```

_从1开始分页_

```javascript
<Pagination
startPageNumber={1}
pageIndex={1}
onPageChange={(pageInfo)=>{
	console.log('page change',pageInfo)
}}
total={100}/>
```

#### totalPage

总页数

#### pageIndex

当前页码

#### pageSize

每页记录数

#### startPageNumber

起始分页页码

#### propTypes

**Properties**

-   `startPageNumber` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** [ 0 ] - 分页开始的起始页`0`或者`1`
-   `pageIndex` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** [ 0 ] - 当前页
-   `pageSize` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** [ 10 ] - 每页记录数
-   `onPageChange` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 分页事件监听
-   `total` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 总记录数
-   `style` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 样式
-   `className` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** [ pagination ] - css class样式
-   `displayPageCount` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** [ 5 ] - 最多可以显示多少页面
